"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{7134:function(e,r,o){o.r(r),o.d(r,{default:function(){return j}});var a=o(6042),s=o(9396),n=o(828),t=o(9815),i=o(5893),c=o(5436),d=o(7283),l=o(7294),u=o(2658),p=o(5153),g=o(319),h=o(7139);function x(e){var r=e.messageId,o=(0,n.Z)(l.useState("full name"),2),a=o[0],s=o[1],t=(0,n.Z)((0,g.D)((0,d.Ps)(h.er.toString())),1)[0],c=(0,u.Fg)();return r?(0,i.jsx)("button",{onClick:function(e){e.preventDefault(),alert("you sent: ".concat(JSON.stringify({id:r},null,2))),t({variables:{id:r}})},style:{border:"none",background:"inherit",color:c.core.colors.danger,cursor:"pointer"},children:"\u2620\ufe0f Delete Message"}):(0,i.jsxs)("div",{style:{padding:c.core.space[3],background:c.core.colors.background,whiteSpace:"pre-wrap",lineBreak:"anywhere",borderRadius:c.core.space[3],display:"flex",flexDirection:"column",alignItems:"center",gap:c.core.space[3],boxShadow:c.core.shadows.small},children:[(0,i.jsx)("form",{className:"formInput",children:(0,i.jsx)("input",{className:"input",style:{borderRadius:"30px",padding:"7.5px"},placeholder:"first name",value:a,onChange:function(e){return s(e.target.value)}})}),(0,i.jsx)("button",{onClick:function(e){e.preventDefault(),alert("you sent: ".concat(JSON.stringify({id:a},null,2))),t({variables:{id:a}})},style:{border:c.core.borders.secondary,borderRadius:"30px",padding:"7.5px",background:"red",cursor:"pointer",color:"white"},children:"Delete Message \u274c"})]})}var m=o(2138),b=o.n(m);function v(e){e.messageId;var r=(0,n.Z)((0,p.VW)("messageInput","reactions",!0,"text"),3),o=(r[0],r[1]),t=(r[2],(0,n.Z)((0,g.D)((0,d.Ps)(h.OM.toString())),1)[0],(0,u.Fg)()),c=(0,n.Z)(l.useState(null),2),x=c[0];c[1];return(0,i.jsxs)("div",{style:(0,s.Z)((0,a.Z)({},t.element.variants.column),{padding:t.core.space[3],background:t.core.colors.background,whiteSpace:"pre-wrap",lineBreak:"anywhere",borderRadius:t.core.space[3],flexGrow:1,height:"100%",alignItems:"center",gap:t.core.space[4],boxShadow:t.core.shadows.small,border:t.core.borders.primary,color:t.core.colors.text}),children:[x?(0,i.jsxs)("span",{children:["You chose: ",null===x||void 0===x?void 0:x.emoji]}):(0,i.jsx)("span",{children:"No emoji Chosen"}),(0,i.jsx)(b(),{onEmojiClick:function(e,r){o(r)},native:!0})]})}function f(e){var r=e.data,o=(0,u.Fg)(),t=(0,n.Z)(l.useState(-1),2),c=t[0],d=t[1];console.log(r);var p=l.useCallback((function(e,r){return e.timestamp-r.timestamp}),[]);return(0,i.jsx)("div",{style:(0,s.Z)((0,a.Z)({},o.element.variants.column),{gap:o.core.space[1],width:"100%",position:"relative",justifyContent:"start",overflowY:"scroll"}),children:null===r||void 0===r?void 0:r.sort(p).map((function(e,r){var n;return(0,i.jsxs)("div",{style:(0,s.Z)((0,a.Z)({maxHeight:"200px",padding:o.core.space[3]},o.element.variants.row),{width:"90%",margin:o.core.space[3],justifyContent:"space-between",borderRadius:o.core.space[2]}),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("i",{style:{opacity:.5},children:null===e||void 0===e?void 0:e.timestamp}),(0,i.jsxs)("p",{style:{boxShadow:o.core.shadows.small,border:o.core.borders.primary,background:o.core.colors.background,marginLeft:o.core.space[4],marginBottom:-o.core.space[2],padding:o.core.space[3],position:"relative",borderRadius:"100px 100px 100px 0px"},children:[null===e||void 0===e?void 0:e.body,(0,i.jsx)("div",{style:(0,a.Z)({background:o.core.colors.success,padding:o.core.space[1],borderRadius:o.core.space[3],position:"absolute",bottom:-o.core.space[3],right:-o.core.space[4]},o.element.variants.row),children:(0,i.jsxs)("div",{onClick:function(){return d(c===r?-1:r)},children:["\ud83d\ude42",r===c&&(0,i.jsx)("div",{style:(0,a.Z)({background:o.core.colors.background,boxShadow:o.core.shadows.large,borderRadius:o.core.space[3],position:"absolute",top:-o.core.space[2],left:0,zIndex:20},o.element.variants.row),children:(0,i.jsx)(v,{messageId:null===e||void 0===e?void 0:e.id})})]})})]}),(0,i.jsx)("div",{style:{maxWidth:50,maxHeight:50,height:"50px",width:"50px",color:o.core.colors.text,background:o.core.colors.background,border:o.core.borders.primary,borderRadius:"100%",backgroundImage:"url('https://randomuser.me/api/portraits/men/76.jpg')",backgroundSize:"cover",backgroundPosition:"center"}}),(0,i.jsx)("b",{style:{textTransform:"capitalize"},children:"".concat(null===e||void 0===e||null===(n=e.actor)||void 0===n?void 0:n.firstname)})]}),(0,i.jsx)("div",{children:(0,i.jsx)(x,{messageId:null===e||void 0===e?void 0:e.id})})]})}))})}function w(){var e=(0,n.Z)((0,p.VW)("messageInput","body",!0,"textArea"),3),r=e[0],o=e[1],t=(e[2],(0,n.Z)((0,p.VW)("messageInput","senderId",!0,"textArea"),3)),c=t[0],l=(t[1],t[2],(0,n.Z)((0,g.D)((0,d.Ps)(h.OM.toString())),1)[0]),x=(0,u.Fg)();return(0,i.jsxs)("div",{style:(0,s.Z)((0,a.Z)({},x.element.variants.row),{whiteSpace:"pre-wrap",lineBreak:"anywhere",borderRadius:x.core.space[3],flexGrow:1,height:"100%",alignItems:"center",gap:x.core.space[4],color:x.core.colors.text,justifyContent:"start"}),children:[(0,i.jsx)("form",{className:"formInput",style:(0,s.Z)((0,a.Z)({},x.element.variants.row),{gap:x.core.space[2],width:"50%",height:"100%"}),children:(0,i.jsx)("textarea",{className:"input",style:{borderRadius:x.core.space[2],padding:x.core.space[2],boxShadow:"inset ".concat(x.core.shadows.small),minHeight:"100px",minWidth:"350px",width:"100%",height:"100%"},placeholder:"first name",value:r,onChange:function(e){o(e.target.value)}})}),(0,i.jsx)("button",{onClick:function(e){e.preventDefault(),alert("you sent: ".concat(JSON.stringify({body:r,senderId:c},null,2))),l({variables:{body:r,senderId:c}})},disabled:r.length<5,style:(0,s.Z)((0,a.Z)({},r.length<5?{opacity:.3}:{opacity:1}),{borderRadius:x.core.space[1],padding:x.core.space[3],background:x.core.colors.success,cursor:"pointer",color:x.core.colors.textSecondary,boxShadow:"0px 2.5px 7.5px green"}),children:"\ud83d\udcac Send Message"})]})}var y=o(5874);function j(){var e=(0,n.Z)(l.useState({}),2),r=e[0],o=(e[1],(0,c.m)((0,d.Ps)(h.bP.toString()))),g=o.loading,x=o.error,m=o.data,b=(0,p.Nr)(m,250),v=(0,u.Fg)(),j=[r,g,x];u.oR.subscribe((function(e){return e.users.actors}));m&&console.log(JSON.stringify(m,null,2));var k=l.useCallback((function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:(0,s.Z)((0,a.Z)({},v.element.variants.column),{flexDirection:"column-reverse",justifyContent:"start",alignItems:"center",boxShadow:"inset ".concat(v.core.shadows.small),border:v.core.borders.primary,background:"white",maxHeight:"60vh",height:"100%",width:"100%",position:"relative",padding:v.core.space[3],borderRadius:v.core.space[3],overflowX:"hidden"}),children:(0,i.jsx)(f,{data:null===b||void 0===b?void 0:b.messages})}),(0,i.jsx)(w,{})]})}),(0,t.Z)(j).concat([b,g])),Z=l.useCallback((function(e,r){return(0,i.jsxs)("div",{style:(0,s.Z)((0,a.Z)({},v.element.variants.column),{background:v.core.colors.background,padding:v.core.space[4],flex:0,height:"100%",maxHeight:"300px",minWidth:"300px",whiteSpace:"pre-wrap",lineBreak:"anywhere",borderRadius:v.core.space[3],boxShadow:v.core.shadows.small,overflowY:"scroll",overflowX:"hidden",border:v.core.borders.primary}),children:[r,e&&JSON.stringify(e,null,2)]})}),j);return(0,i.jsx)("div",{style:(0,s.Z)((0,a.Z)({},v.element.variants.row),{flexWrap:"wrap",width:"90%",gap:v.core.space[3],margin:v.core.space[4]}),children:g&&(0,i.jsx)("div",{children:Z(null,(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.Z,{})}))})||x&&(0,i.jsx)(i.Fragment,{children:Z(x,(0,i.jsx)("h1",{children:"\ud83d\udd34"}))})||(0,i.jsx)(i.Fragment,{children:k()})})}}}]);