(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{8139:function(n,i,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/messager",function(){return o(7134)}])},319:function(n,i,o){"use strict";o.d(i,{D:function(){return d}});var r=o(655),t=o(7294),e=o(4012),u=o(2152),l=o(4692),a=o(990),c=o(6252);function d(n,i){var o=(0,c.x)(null===i||void 0===i?void 0:i.client);(0,l.Vp)(n,l.n_.Mutation);var d=(0,t.useState)({called:!1,loading:!1,client:o}),v=d[0],s=d[1],f=(0,t.useRef)({result:v,mutationId:0,isMounted:!0,client:o,mutation:n,options:i});Object.assign(f.current,{client:o,options:i,mutation:n});var p=(0,t.useCallback)((function(n){void 0===n&&(n={});var i=f.current,o=i.client,t=i.options,l=i.mutation,c=(0,r.__assign)((0,r.__assign)({},t),{mutation:l});f.current.result.loading||c.ignoreResults||s(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:o});var d=++f.current.mutationId,v=(0,e.J)(c,n);return o.mutate(v).then((function(i){var r,t,e,l=i.data,c=i.errors,p=c&&c.length>0?new a.c({graphQLErrors:c}):void 0;if(d===f.current.mutationId&&!v.ignoreResults){var b={called:!0,loading:!1,data:l,error:p,client:o};f.current.isMounted&&!(0,u.D)(f.current.result,b)&&s(f.current.result=b)}return null===(t=null===(r=f.current.options)||void 0===r?void 0:r.onCompleted)||void 0===t||t.call(r,i.data),null===(e=n.onCompleted)||void 0===e||e.call(n,i.data),i})).catch((function(i){var r,t,e,l;if(d===f.current.mutationId&&f.current.isMounted){var a={loading:!1,error:i,data:void 0,called:!0,client:o};(0,u.D)(f.current.result,a)||s(f.current.result=a)}if((null===(r=f.current.options)||void 0===r?void 0:r.onError)||v.onError)return null===(e=null===(t=f.current.options)||void 0===t?void 0:t.onError)||void 0===e||e.call(t,i),null===(l=n.onError)||void 0===l||l.call(n,i),{data:void 0,errors:i};throw i}))}),[]),b=(0,t.useCallback)((function(){s({called:!1,loading:!1,client:o})}),[]);return(0,t.useEffect)((function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}}),[]),[p,(0,r.__assign)({reset:b},v)]}},5436:function(n,i,o){"use strict";o.d(i,{m:function(){return l}});o(3917);var r=o(7294),t=o(2152),e=o(4692),u=o(6252);function l(n,i){var o=(0,u.x)(null===i||void 0===i?void 0:i.client);(0,e.Vp)(n,e.n_.Subscription);var l=(0,r.useState)({loading:!(null===i||void 0===i?void 0:i.skip),error:void 0,data:void 0,variables:null===i||void 0===i?void 0:i.variables}),a=l[0],c=l[1],d=(0,r.useState)((function(){return(null===i||void 0===i?void 0:i.skip)?null:o.subscribe({query:n,variables:null===i||void 0===i?void 0:i.variables,fetchPolicy:null===i||void 0===i?void 0:i.fetchPolicy,context:null===i||void 0===i?void 0:i.context})})),v=d[0],s=d[1],f=(0,r.useRef)(!1);(0,r.useEffect)((function(){return function(){f.current=!0}}),[]);var p=(0,r.useRef)({client:o,subscription:n,options:i});return(0,r.useEffect)((function(){var r,e,u,l,a=null===i||void 0===i?void 0:i.shouldResubscribe;"function"===typeof a&&(a=!!a(i)),(null===i||void 0===i?void 0:i.skip)?(!(null===i||void 0===i?void 0:i.skip)!==!(null===(r=p.current.options)||void 0===r?void 0:r.skip)||f.current)&&(c({loading:!1,data:void 0,error:void 0,variables:null===i||void 0===i?void 0:i.variables}),s(null),f.current=!1):(!1===a||o===p.current.client&&n===p.current.subscription&&(null===i||void 0===i?void 0:i.fetchPolicy)===(null===(e=p.current.options)||void 0===e?void 0:e.fetchPolicy)&&!(null===i||void 0===i?void 0:i.skip)===!(null===(u=p.current.options)||void 0===u?void 0:u.skip)&&(0,t.D)(null===i||void 0===i?void 0:i.variables,null===(l=p.current.options)||void 0===l?void 0:l.variables))&&!f.current||(c({loading:!0,data:void 0,error:void 0,variables:null===i||void 0===i?void 0:i.variables}),s(o.subscribe({query:n,variables:null===i||void 0===i?void 0:i.variables,fetchPolicy:null===i||void 0===i?void 0:i.fetchPolicy,context:null===i||void 0===i?void 0:i.context})),f.current=!1),Object.assign(p.current,{client:o,subscription:n,options:i})}),[o,n,i,f.current]),(0,r.useEffect)((function(){if(v){var n=v.subscribe({next:function(n){var r,t,e={loading:!1,data:n.data,error:void 0,variables:null===i||void 0===i?void 0:i.variables};c(e),null===(t=null===(r=p.current.options)||void 0===r?void 0:r.onSubscriptionData)||void 0===t||t.call(r,{client:o,subscriptionData:e})},error:function(n){c({loading:!1,data:void 0,error:n,variables:null===i||void 0===i?void 0:i.variables})},complete:function(){var n,i;null===(i=null===(n=p.current.options)||void 0===n?void 0:n.onSubscriptionComplete)||void 0===i||i.call(n)}});return function(){n.unsubscribe()}}}),[v]),a}}},function(n){n.O(0,[774,127,358,149,134,888,179],(function(){return i=8139,n(n.s=i);var i}));var i=n.O();_N_E=i}]);